# 全てのコマンド

全てのコマンドを説明するページです。
多くのコマンドは記事のリストを作り、それらに対して操作を行います。
リストする対象の指定や表示の整形は共通の引数で行うので、 [リストの作り方](./boards.md) に書きます。
必要に応じてそちらも参照してください。

リストを引数とするコマンドは、記事の種類によって短縮ができます。
`gl2f <subcommand> <blogs/news/radio>` がそれぞれ `gl2b <subcommand> / gl2n <subcommand> / gl2r <subcommand>` と同等です。


## `gl2f auth` 認証関係

### `gl2f auth login`

Chrome が開ける環境では、このコマンドで開いたブラウザでログインすることで、日記の本文や画像のダウンロードができるようになります。

### `gl2f auth remove`

PCに保存されている認証情報を削除します。



## `gl2f cat` ターミナルで本文を読む

引数に記事のリストを与えます。
チェックボックスが現れるので、記事を選択して本文をターミナル上に出力します。
また可能な環境であれば sixel で画像も表示します。
リストの与え方の詳細は [リストの作り方](./boards.md) を読んでください。

[GL2 family ニュース](https://girls2-fc.jp/page/familyNews) のリストを使う
```sh
gl2f cat news family
# or
gl2n cat family
```

オプションは以下のものがあります。

* `-a, --all` チェックボックスを使った選択を行わず、リストされた全ての記事本文を出力します。
* `--style { full, compact, compressed }` 本文の改行をどれくらい詰めるかを決めます。 `full` は全ての改行を維持し、可能であれば画像も表示します。 `compact` （デフォルト）は空行をなくし、可能であれば画像を表示します。 `compressed` は全く改行せず、画像も表示しません。
* `--no-image` このフラグを立てると、どのスタイルにおいても画像を表示しないようになります。

GL2 family のニュース本文を、まったく改行せずに表示する。
```sh
gl2n cat --style compressed family
# or
gl2f cat --style compressed news family
```


## `gl2f dl` 記事に含まれる画像や動画をダウンロードする

引数に記事のリストを与えます。
チェックボックスが現れるので、記事を選択してダウンロードします。
ダウンロード先は `~/gl2f/contents/<content id>` です。
ID が数字ばかりで分かりにくいので、ダウンロードしたファイルを読むための機能を追加するつもりです。
リストの与え方の詳細は [リストの作り方](./boards.md) を読んでください。

> **Note**
> 以前はダウンロード先が `~/gl2f/media/` でした。
> その頃にダウンロードしたファイルは今のシステムに影響しませんが、互換性もありません。

オプションは以下のものがあります。

* `-a, --all` チェックボックスを使った選択を行わず、リストされた全ての記事をダウンロードします。
* `--steam` 動画の場合にファイルそのものをダウンロードせず、ストリーム再生用のファイルをダウンロードします。視聴に時間制限があります。
* `--skip` 動画ファイルはダウンロードしません。
* `--force` デフォルトでは既に存在するファイルを改めてダウンロードしませんが、これを有効にすると新しくダウンロードしたファイルで上書き保存します。
* `-o` 出力先を指定します。


## `gl2f local` ローカルファイルを操作する

ダウンロードしたデータなどを操作するコマンドです。

* `gl2f local clear-cache` 画像等のキャッシュを削除します。
* `gl2f local dir` ファイルなどが保存されているディレクトリを返します。これは `~/gl2f` の絶対パスです。
* `gl2f local index` ダウンロードしたファイルを読みやすい形にしたファイルを `~/gl2f/index.html` として作ります。
* `gl2f local ls` ダウンロードしたファイルを全てリストします。[リストの整形](./boards.md#リストの整形) に従って表示方法を変えることができます。
* `gl2f local stat` ダウンロードしたファイルの数とサイズを表示します。



## `gl2f ls` 記事の情報をリストする

記事のリストを整形して表示します。
集める記事や整形のオプションは [リストの作り方](./boards.md) に従います。

小田柚葉のブログを表示する。urlは改行する。
```sh
gl2r ls yuzuha --break-urls
# or
gl2f ls radio yuzuha --break-urls
```

lovely2 スタッフのブログ20件を投稿日と公開日（秒まで）表示する。
```sh
gl2b ls lovely2staff -f author:date-p:date-c:title:url -d '%m/%d %H:%M:%S'
# or
gl2f ls blogs lovely2staff -f author:date-p:date-c:title:url -d '%m/%d %H:%M:%S'
```



## `gl2f open` 記事をブラウザで開く

引数に記事のリストを与えます。
チェックボックスが現れるので、記事を選択してページをブラウザで開きます。
リストの与え方の詳細は [リストの作り方](./boards.md) を読んでください。

鶴屋美咲のラジオを開く
```sh
gl2f open radio misaki
# or
gl2r open misaki
```

オプションは以下のものがあります。

* `-a, --all` チェックボックスを使った選択を行わず、リストされた全ての記事本文を出力します。

今日投稿されたブログを全て開く
```sh
gl2b open -a today
# or
gl2f open -a blogs today
```
